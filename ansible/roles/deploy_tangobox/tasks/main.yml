---

###########################################
## PRINT STUFF
###########################################

- name: Print software_root directory
  debug: msg="rootdir = {{software_root}}"


###########################################
## Apt-get update and upgrade
###########################################

- name: update apt packages
  apt: >
    update_cache=yes
    cache_valid_time=3600

- name: upgrade apt packages
  apt: upgrade=yes

###########################################

- name: Install deb requirements packages
  # apt: name={{item}} force=yes state=latest
  raw: sudo apt-get install {{item}} -y
  with_items:
    #- snmpd
    - aptitude
    - libffi-dev
    - build-essential
    - git-core
    - language-pack-en-base
    - libatk1.0-dev
    - libcairo2-dev
    - libevent-dev
    - libfontconfig1-dev
    - libfreetype6-dev
    - libhdf5-serial-dev
    - libpng12-dev
    - libpq-dev
    - python-cairo-dev
    - python-dev
    - gfortran
    - screen
    #- subversion
    - zlib1g-dev
    - tzdata
    - ntpdate
    - liblapack-dev
    - libf2c2-dev
    - libatlas-base-dev
    - libssl0.9.8
    - man-db
    - manpages
    - ftp
    - gawk
    - telnet
    - tcpdump
    #- redis-server
  tags:
    - debs
    - deploy-box-debs



- name: Install tango deb requirements packages
  #apt: name={{item}} force=yes state=latest
  #sudo: yes
  raw: sudo apt-get install {{item}} -y
  with_items:
    - ansible
    #- subversion
    - xauth
    - libboost-python-dev
    - build-essential
    - software-properties-common
  tags:
    - tango-debs
    - deploy-box-tango-debs


- name: Install mysql packages
  #apt: name={{item}} force=yes state=latest
  #sudo: yes
  raw: sudo apt-get install {{item}} -y
  with_items:
    - software-properties-common
    - mysql-client-core-5.6
    - mysql-server-5.6
    - mysql-client-5.6
  tags:
    - mysql
    - deploy-box-mysql


- name: Install tango core packages
  #apt: name={{item}} force=yes state=latest
  raw: sudo apt-get install {{item}} -y
  with_items:
    - tango-db
    - tango-common
    - tango-starter
    - tango-test
    - tango-accesscontrol
    - liblog4tango5v5
    - libtango9
    - libtango-java
    - libtango-doc
    - libtango-dev
    - liblog4tango-dev
    - liblog4tango-doc
  tags:
    - core
    - deploy-box-core

- name: Install tango pip packages
  raw: sudo pip install "{{item}}" -U
  with_items:
    - numpy
    - scipy
    - matplotlib
    - ipython<6.0
    - itango
    - fandango
  tags:
    - pip
    - deploy-box-pip

...
