---

###########################################
##     PRINT STUFF
###########################################

- name: Print software_root directory
  debug: msg="rootdir = {{software_root}}"


###########################################
##     Pip install working directories
###########################################



- block:
  - name: Generate skabase
    command: pogo -src {{item}}.xmi
    args:
        chdir: "{{software_root}}/levpro/skabase/{{item}}"
    environment:
        DISPLAY: "{{ lookup('env','DISPLAY') }}"
    with_items:
      - SKABaseDevice
      - SKAObsDevice
      - SKAMaster
      - SKASubarray
      - SKACapability
      - SKAAlarmHandler
      - SKATelState
      - SKALogger
  become: True
  become_user: kat
  tags:
    - generate-sw-skabase

- block:
  - name: Generate refelt
    command: pogo -src {{item}}.xmi
    args:
        chdir: "{{software_root}}/levpro/refelt/refelt"
    environment:
        DISPLAY: "localhost:10.0"
    with_items:
      - RefMaster
      - RefA
  become: True
  tags:
    - generate-sw-refelt

...
